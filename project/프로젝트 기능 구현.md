# 내가 한 작업
- 호스트 예약관리 페이지
  - 승인 대기 예약 내역 출력, 승인 거절 선택 버튼
  - 승인된 예약 출력

- 호스트 숙소 등록 페이지 제작
  - (1페이지)
  - 숙소 타입 선택 버튼
  - 숙소 위치 설정하는 지도 api
  - 숙소 기본 정보 개수 설정 칸
  - 숙소 편의시설 정보 선택 버튼
  - 사진 추가
  - 숙소 설명 입력 폼
  
  - (2페이지)
  - 요금설정 입력 폼
  - 본인인증 api

- 호스트 모드 헤더 생성

- 숙소관리 페이지
  - 등록한 숙소 출력
  - 상태 변경 기능
  - 숙소 추가 버튼 -> 숙소 신청 페이지로 이동

- 정산 페이지
  - 등록된 숙소 정보
  - 전체 수입, 이번달 수입 출력
  - 숙소 탭 클릭 시 상세 내역 팝업

- 게스트와 채팅
  - 서버 방식

# 1일차(2024-04-01)
- 기능별 파트 분담
- git branch 사용법 학습
- log4j 일자별 로그파일 출력 설정 방법 학습

# 2일차(2024-04-02)
- 호스트 예약관리 페이지 제작
  - HostReservation: VO 객체 생성
  - HostReservationController: list와 stateUpdate 메서드 작성
  - HostReservationService: 서비스 인터페이스 정의
  - DefaultHostReservation: 값을 받아 Dao 호출
  - HostReservationDao: Dao 인터페이스
  - HostReservationDao.xml: Mybatis로 Dao 구현체 생성, ResultMap을 사용하여 hostReservation 객체로 데이터를 받아옴
  - templates/hostReservation/list.html: 예약관리 화면, DB에서 상태를 조건으로 따로 select하지 않아 Thymeleaf의 조건문(data-th-if)으로 화면에 렌더링하는 값을 제어함

- 문제
  - 예약관리 페이지 요청 시 호스트의 회원번호가 가진 숙소 예약 리스트를 모두 출력해야 하는데, 기존 sql에서는 예약한 사용자의 회원번호가 where로 들어가 제대로 출력되지 않음  
  => mybatis의 sql 문 수정

  - 예약 승인/거절 update를 할 때 Post요청을 할지 Get요청을 할지 헷갈림  
  => Post 요청이 맞다고 판단, form 태그+input의 hidden으로 파라미터를 보내서 해결

# 3일차(2024-04-03)
- 호스트 전용 헤더 작성

- 호스트 숙소 등록 페이지 작성
  - 프론트 html 간단한 자바스크립트에 한해서만 구현
    - ex) 요금에 따른 정산금액 실시간 출력
  - dao, controller, service 토대만 완성

- HostReservation 페이지 컨트롤러를 HostController로 변경, 관련 페이지 컨트롤러를 통합
  - Host관련 기능을 하나의 페이지 컨트롤러로 관리하는게 더 유지보수하기 좋다고 생각함
  - 그에 맞춰서 매핑도 수정해주었다.

# 4일차(2024-04-04)
- 호스트 숙소 등록 페이지 구조 변경 및 구현
  - 기본 정보, 테마, 시설에 따라 페이지를 나누고 입력받기
  - 숙소 테마 입력 받는 페이지 일부 구현

- 문제: 
  - <form> 안에 <form> 태그가 또 존재하면 <button>의 submit 기능이 비활성화된다..<button>은 <form> 태그 안에 유일하게 존재하면 그 button은 자동으로 submit 타입으로 지정된다.
  
  - redirect를 통해 다음 페이지로 이동했을 때 model에 들어있는 값이 아예 전달되지 않았음. 
  forward랑 달리 redirect는 지정된 주소로 새로운 Get 요청을 수행하기 때문에 실행 이전에 request, model 데이터가 전부 날아가버린다. 
  redirect로 값을 보내려면 RedirectAttribute 객체를 사용하거나, 그냥 mapping URL을 지정하여 화면을 이동하는 방법을 사용해야 한다. 

  => 피드백 후 session에 보관하기로 함, @SessionAttribute 애노테이션을 사용


# 5일차(2024-04-05)
- 로고 제작

- 피드백
  - Object Storage를 적용해서 이미지가 보이도록 변경해야된다.
  - 호스트 예약관리에서 종료된 호스팅 리스트을 추가하고, 상태를 "예약 전/이용 중" 등 표시하게 한다.
  - 이미지 파일 다루는 코드에서 null 검사하지 말고 프론트에서 제한을 건다.
  - RentalHomeTheme vo를 통일을 위해 Theme으로 변경한다.
  - 이미지 최대 개수 제한 X, 최소는 제한 걸어야 한다.


# 7일차(2024-04-07)
- 숙소 등록 최종 확인 페이지 구현
- 기본정보, 시설, 테마를 session에 저장하여 페이지 이동, 등록 메서드에서 한번에 등록(진행중)
- 숙소 관리 페이지 구현
  - 숙소 정보 resultMap으로 한번에 가져와 출력(완)


- 문제
  - Mybatis를 통해 값을 온전히 session에 담아 보냈는데 rentalHomeConfirm에서 반복문으로 출력하고 등록 메서드로 보냈을 때 String에 하나의 값이 담기지 않고 모든 값이 ,로 묶여 보내지는 문제가 발생.  

  JavaScript, html 모든 해결방법을 찾아본 결과, 컨트롤러에서 rentalHome에 값을 담아 세션으로 보낼 때 List<Integer>인 테마, 시설 값들을 for(int i = 0; ...) 반복문을 통해 get(i)하는 경우만 문제가 발생하지 않는다. 원인은 찾지 못한 상태... 테마 폼에서 사용하는 숙소 타입은 같은 테마지만 input type이 radio여서 themeNo와 themeName을 ","로 묶어서 보내고 split으로 분리하는 방식을 사용하였다. 


# 1주차 회고
DB모델링과 sql할 때까지는 추상적으로 설계했으므로 지금까지 배운 내용을 적용하는 간단한 문제라고 생각했다. 하지만 실제 구현을 하려고 보니 vo객체도 제각각 다르고 페이지를 이동하며 어떤 값이 전달되고 어떤 값을 받아야 하는지 고려하게 되었다(이 부분이 제일 중요).  

아직 처음이라 디버깅을 위한 로그를 찍는 방법부터, 효율적 설계까지는 아니어도 기본적인 구조를 적용하는데 필요한 기본지식이 완벽히 암기가 안된 상태여서 예상보다 속도도 많이 더딘 것 같다.  

HTML,Javascript,css를 배우기에 앞서 Mybatis, Thymeleaf, SpringBoot의 원리를 빨리 이해해야 할 것 같다.  

총평: 절대적 시간이 부족한 게 너무 아쉽다. 마음이 급할 수록 쉬어가라는 말이 있지만 나는 동의할 수 없다. 시간을 어떻게든 쪼개서 성장가능성을 보다 높이는 것이 내 목표다.


# 8일차(2024-04-08)
- hostDao를 각각 기능에 따라 FacilityDao, ThemeDao, PhotoDao로 분리
  - Dao별 필요한 기능(리스트 가져오기, 번호로 가져오기) 추가

- 번호로 RentalHome 정보를 가져오는 sql문 수정
  - 필요한 collection(Facilities, Themes)을 가져오는 join이 누락되어 있었음

- session.setAttribute를 @SessionAttribute 애노테이션 처리 방식으로 변경

- 숙소 상세/변경 페이지 구현(진행중)

- 문제
  - 숙소 상세 뷰 페이지에서 상태 표시를 할 때 `data-th-if="*{state} == 0"..` 이 Thymeleaf Parsing 에러가 발생
    => 값을 가져오는지 로그를 찍어보니 Dao의 리턴값이 null인 것을 확인, sql 쿼리문에 문제가 있었음. collection을 포함해 모든 값을 가져올 수 있도록 select문을 수정했다.

  - 테마리스트, 편의시설리스트를 가져온 후 RentalHome이 가지고 있는 리스트에 포함된 테마, 편의시설에는 체크박스 표시를 default로 설정하는 방법
  
  => Thymeleaf, html로는 해결 불가능하다고 판단.
  JavaScript를 찾아봄


# 9일차(2024-04-09)
- 숙소 상세 페이지 구현(진행중)
  - 업데이트 남음

- vo 객체 조정에 따른 Mybatis 수정
  - insert 하기 위해 시설, 테마, 숙소사진 vo에 숙소번호를 추가하고 리스트를 DAO 파라미터로 넘기는 방식이 비효율적이라고 생각하여 숙소 vo 객체 자체를 넘기는 방식으로 변경.
  -> ParameterMap을 사용하려고 했으나 Mybatis 공식문서에 더 이상 지원(권장)하는 방식이라고 해서 ParameterType으로 처리함

- 문제
  - 테마리스트와 객체에 들어있는 테마리스트의 번호를 비교하여 체크표시를 해야 되는 부분을 어떤 방식으로 처리해야 하는지

  => lombok의 equalsAndHashCode.exclude 애노테이션을 통해 반복되는 themeList의 theme 객체와 rentalHomeThemes를 indexOf 하는 방식?


# 10일차(2024-04-10)
- 숙소 등록 페이지 리팩토링
  - 숙소 등록 시 사진 파일을 선택하면 해당 사진이 동일한 사이즈로 optimizing되어 화면에 출력되는 기능 추가, 자바스크립트 사용

- 숙소 상세 페이지 구현(진행중)
  - 숙소 상세에서 기존 값을 모두 체크표시, 출력하도록 구현


# 11일차(2024-04-11)
- 숙소 등록 페이지 리팩토링
  - 사진마다 사진 설명을 입력받고 DB에 같이 추가하도록 수정
  - 사진 설명을 입력하지 않으면 기본값이 입력된다.(N.N)

- 숙소 상세 페이지 구현(진행중)
  - 업데이트를 위한 Service, Dao 생성()
  - 사진은 ncp의 Image optimizer를 사용하여 출력

- 문제
  - 숙소 상세 페이지의 업데이트 기능을 구현하려고 보니 기존 사진은 ncp의 Image Optimizer를 사용하여 출력하고 새로 입력받을 사진은 자바스크립트로 출력하기 때문에 한번에 다루기 힘든 문제가 발생한다. 

  파일을 자바스크립트에서 배열로 관리하는 방법을 사용 


# 12일차(2024-04-12)
- dev branch로 pull request 진행
  - pull request 후 push를 안해서 문제가 한번 발생했었음
  - pull request 하여 merge한 후 충돌이 있었던 파일을 삭제하거나 수정하여 다시 push하니까 다음 pull request에서는 문제 없이 merge가 잘됐다.

- 숙소 등록 페이지 리팩토링
  - 입력받은 파일을 filesArray 배열에 담아 따로 관리(진행중)
  - formData에 추가하여 fetch api로 전송(진행중)


# 13일차(2024-04-13)
- 숙소 등록 페이지 
  - 입력받은 파일을 filesArray 배열에 담아 따로 관리
  - formData에 추가하여 fetch api로 전송
  - 마지막 확인하는 페이지에도 사진과 설명이 출력되도록

- 문제 
  - fetch api로 form을 전송할 떄 form 태그 안에 있는 input값들은 formData에 존재하지 않아 보내지지 않음
  
  해결: 자바스크립트에 formData.append로 하나씩 추가해주는 방법 선택

  - 기존 코드로는 이미지 삭제 시, 사진 설명도 같이 삭제되야 하는데 삭제되지 않고 그대로 남음
  
  해결: filesArray에 객체형태로 사진과, 설명을 저장해두고
  form을 전송하는 submitForm 함수에서 객체배열을 순회하며 각각의 값을 저장하는 방식으로 해결

  - fetch api를 사용하면 응답을 받아야 함, 기능은 폼을 전송한 후 응답이 필요없고 redirect를 해야 함.
  어떤게 응답되는 건지?
  redirect가 왜 안먹히는지? 모르겠다.

  해결: 임시로 페이지 이동하는 url을 하드코딩.. 


# 14일차(2024-04-14)
- 숙소 상세 페이지
  - pull request 후 vo 변경에 따라 mybatis mapper 파일의 resultMap과 객체명 수정

  - 이전에 발생했던 문제(Object Storage로 출력하는 기존 사진과 새로 입력받는 사진의 형식이 다른)를 처리할 방법을 고민, 자바스크립에서 하나의 배열로 관리하려고 코드를 만들어보았으나 새로운 사진을 등록하고 기존 사진을 삭제하는데 있어 매우 복잡해지는 상황이 발생하여 철회하고 css 형식만 공유하고 각각의 파일은 따로 관리하기로 결정

  - Object Storage와 새로운 input 파일이 함께 출력되도록 css를 rentalHomeForm과 동일하게 변경

# 2주차 회고
1주차 회고때 언급한 것처럼, thymeleaf와 mybatis, mvc 구조를 보다 이해하기 위해 공식문서와 블로그를 찾아보며 최대한 내 코드를 머리 속에 깊이 이해하려고 노력했다. 이 구조를 이해하고 나니 vo객체를 어떻게 생성하고 어떤 코드부터 만들어야 할 지 설계하는 것이 보다 쉬웠다.  

새로이 직면한 문제는 자바스크립트와 api를 적용하는 부분이다. 어떤 코드를 구현할 때 자바스크립트로 만들지 아니면 타임리프를 사용할지 구분하는 것이 아직은 어색하다. 나아가 자바스크립트로 구현해야 하는 기능을 구현하는 데 필요한 기술을 찾아보는 시간과 구현하며 에러를 찾는 시간이 너무 오래 걸린다. 자바스크립트 문법을 잘 몰라서라기보다 특정 api를 사용하거나 자바스크립트를 사용했을 때 어떤 요청이 오고가는지 디버깅을 찍어보는 연습이 부족한 것 같다. 

혼자서 최대한 찾아본 후 강사님께 어떤 방식이 효율적인지 조언을 구해보자.

# 15일차(2024-04-15)
- 숙소 등록 페이지 리팩토링
  - 사진을 추가하는 함수에서 input 태그로부터 받은 files를 반복할 때 개별 파일에 대한 변수로 var이 아닌 let으로 변경  
  그러면 반복문을 돌 때 let 변수가 사라지고 클로저 함수에는 각각의 file이 복제되므로 굳이 익명함수를 정의하는 즉시 호출하는 형태를 사용할 필요가 없어 코드의 복잡성을 줄일 수 있다.
  - Fetch API로 리다이렉트하는 부분은 하드코딩(컨트롤러 리턴값은 @requestBody)

- hostController 메서드 추출
  - 사진, 테마, 시설과 같이 controller에서 받아 형태를 변환시켜주는 코드가 add와 update에서 중복되므로 이를 메서드로 추출하여 중복을 제거함

- 숙소 상세 페이지
  - 숙소 기본정보는 update
  - 시설, 테마는 수정 시 전체 삭제 후 다시 add
  - 사진은 delete 버튼 눌렀을 때 하나씩 삭제, 추가된 사진은 그대로 add

- 문제
  - 시설, 테마의 경우 중복 id를 지정할 수 없어서 getElementById() 또는 querySelector()로 값을 보낼 수가 없다.  
  -> querySelectorAll()의 경우 class를 기준으로 값을 모두 DOM 형태 가져온다. 필요한 값에 대해 id 대신 class를 지정하고(class css가 없어도 지정 가능) 가져온 DOM 리스트를 순회하여 formData에 추가해주는 방법 고려

  - thymeleaf는 html 수정 시 서버 재시작 안해도 변경이 적용되는데 정적 리소스는 변경이 안되는 것을 확인
  -> application.properties의 static 경로 설정에 오타.. spring.web.resources.static-location에 locations가 잘못되어 있었음
  바꾸는 김에 설정파일도 application-dev와 application-prod로 분리함

# 16일차(2024-04-16)
- 숙소 상세 페이지 형식 수정
  - 요금 자동 계산 기능 수정, 호스팅 시작일 변경불가 지정, 수용인원 추가

- 숙소 상세 페이지 컨트롤러 수정
  - 숙소 사진의 경우 기존 사진의 사진 순서를 반영하여 추가해야 하므로, 기존 파일리스트를 받아 마지막 순서를 객체변환 메서드에 파라미터로 넘겨줌

- 숙소 상세 페이지 업데이트 기능 완성
  - 자바스크립트, fetch api를 통해 숙소 정보 업데이트 하는 기능 완성

- 문제
  - 기존 사진에 대한 정보를 아예 주지 않았는데 넘어감
    -> 찾아보니 @sessionAttribute 애노테이션에 지정된 객체와 일치하는 필드를 request handler에서 같은 객체 파라미터로 받으면 자동 바인딩이 되어서 발생한 문제. 바인딩이 되기 전 sessionStatus.setComplete()로 임시 값을 제거해주면 해결된다.
  
  - querySelectorAll() 함수를 통해 class를 가져오면 선택되지 않은 값도 모두 폼데이터에 추가되는 문제
  -> 테마는 type의 형태가 테마번호와 테마이름이 ,로 묶인 형태이고 자바스크립트로 보내지는 값이 단일값이라 id를 통해 따로 폼데이터에 추가해주고 다중선택하는 querySelectorAll()로 모든 요소를 가져와 인덱스를 추가해 반복하여 checked 옵션이 있으면 해당 인덱스의 히든값도 같이 폼데이터에 추가함  
  시설의 경우 기본 시설은 개수로 받고 편의시설은 체크박스로 받기 때문에 querySelectorAll()로 가져온 요소 중 checked 옵션은 테마와 동일하게 폼데이터에 추가하고 기본 시설은 인덱스를 조건으로 걸어서 추가해줌(기본시설의 인덱스 0~2)


# 17일차(2024-04-17)
- 숙소 정산 페이지 구현(진행 중)
  - 숙소리스트와 이용건수 출력
  - 총 정산금액, 지난 한달 간 정산금액 출력

- 문제
  - 설정한 기간에 따라 출력되는 데이터가 다르다. 즉 기간으로 조회하려면 post, 탭을 눌러 처음 리스트로 진입할 때는 get으로 진입해야 하는 문제가 발생  
   -> 우선 기본 페이지는 get 요청을 받고 조회 버튼을 누를 시 post 요청을 받아서 redirect하는 방식으로 만들고 강사님께 여쭤보기로 함

  - 이번달 수입을 계산해서 출력해야됨
    -> LocalDate 객체의 isBefore(), isAfter()/isEquals()를 사용하여 기간 내에 결제일이 존재하면 income을 더해서 모델에 담아주는 형태로 만듦

  - 숙소별로 특정 기간동안 이용한 인원수를 계산해야 됨  
    -> 우선 이용인원수보다 이용건수를 저장하는 것이 좋아보임. 이용인원수 종합은 의미가 없다고 생각함. 
    -> 이용건수 계산은 HashMap을 사용, 숙소번호를 key 이용 건수를 value로 예약리스트의 객체가 가지고 있으므로 HashMap의 getOrDefault()를 통해 key가 없으면 0으로 초기화 하고 있으면 +1 해주는 방식.
    정해진 기간에 따라 이용건수가 출력되야 하므로 수입을 계산하는 코드(반복문/조건문)에 그대로 추가해주면 된다. 
    -> HashMap은 그대로 Model에 추가하여 사용, thymeleaf로 값을 사용할 때는 `${model 이름[키]}`로 사용, 만약 키값으로 thymeleaf 값을 넣고 싶다면 안에 들어갈 jtsl문을 "__"로 묶으면 타임리프문이 정상적으로 실행된어 값이 배치된다. ex) `${model 이름[__${model이름}__]}`


# 18일차(2024-04-18)
- 숙소 정산 페이지 구현
  - 백엔드로 처리하는 날짜 조회 기능 구현, default는 한달  
  -> post처리하려고 했으나 get 요청에 null값을 받는 경우와 date를 받는 경우 두 케이스로 구분해서 하나의 메서드로 처리함
   
  
- 문제
  - 숙소별 정산 상세를 표시할 때 숙소가 가진 예약리스트도 날짜 필터링을 해주어야 함.
  - 탭 클릭 시 해당 숙소의 예약내역 정보들을 출력하도록 해야 함.
  

# 19일차(2024-04-19)
- 숙소 정산 페이지 구현
  - 팀장님과 논의한 결과 상세 보기를 출력하고 날짜 조회하는 기능은 모두 자바스크립트로 구현해보기로 함
  - 숙소별 정산 상세 내역 출력(태그 추가 방식)
  - 숙소별 정산 상세 내역 숨기기(태그 제거 방식)

- 문제
  - 콘텐트 안에 <button> 태그를 만들고 부모 div와 크기를 맞춰 리스너를 걸려고 했으나, 강사님께서 시맨틱 태그 개념에 따라 <div> 태그에 리스너를 거는 것이 바람직하다고 하심.
  - <script src=""></script>, <script>..</script>는 같이 사용할 수 없다. 만약 링크로 스크립트를 가져오고 싶다면 태그 안에 내용을 작성하면 안된다.
  - 자바스크립트의 `${파라미터/변수}`와 타임리프의 ${모델명}은 서로 다른 문법이다.
  - 모델에 담겨진 객체 또는 값을 자바스크립트로 가져오는 방법... data-th-inline="javascript" 옵션을 `<script>` 태그에 추가해주면 바로 가져올 수 있다.
  - 마우스 클릭 시 이벤트에 대하여... 이벤트 단계는 capture phase와 bubble phase로 구분하고, 이벤트 객체의 target을 지정하면 target이 있는 그 태그가 
  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  반환 아몰랑
  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
  
# 21일차(2024-04-21)
- 숙소 정산 페이지 구현(완)
  - 날짜조회 기능 추가
    - 자바스크립트로 구현, 조회 버튼을 누르면 결제일을 기준으로 기준 기간 사이에 있는 예약내역만 필터링하여 filteredReservationList 변수에 저장한 후 이용건수, 총수입을 업데이트한다.
    - 기존 상세 보기는 전역변수인 reservationList를 통해 태그를 생성하였지만 필터링된 데이터를 출력하기 위해 파라미터로 예약리스트를 받도록 한 후 filteredReservationList가 Null이 아닐 경우 필터링된 리스트를 파라미터로 넣어주었다. 총 수입, 이용건수 업데이트 하는 부분도 마찬가지, 굳이 값을 초기화할 필요없이 innerHTML을 해주면 기존 값이 대체된다.
    - 그 외로 구조적인 부분을 수정함. ex) 상세 보기 창을 띄운 상태에서 조회 시 기존 상세 보기 창을 제거
  
3주차 회고
-----------------------

# 22일차(2024-04-22)
- 숙소 정산 페이지 리팩토링
  - 한번만 쓰는 자바스크립트 함수를 애로우 펑션으로 교체
  - 숙소 대표 이미지 렌더링

- 호스트 채팅 기능 구현(진행중)
  - SpringBoot WebSocket 사용
  - 우선 WebSocket이 어떻게 돌아가는지 확인하기 위해 블로그, 공식 docs들을 참고
  - WebSocket, SockJS, STOMP 순으로 채팅방 구현
    - WebSocket: 직접 WebSocket을 연결
    - SockJS: WebSocket을 지원하지 않는 브라우저에서 실행할 수 있도록 대체해줌
    - STOMP: sub/pub 과 같이 다루기 편한 구조로 채팅방을 구현할 수 있음
  - 예약번호를 채팅방번호로 사용하여 여러 채팅방 구현
  - 참고 블로그: https://dev-gorany.tistory.com/212

- 문제
  - STOMP에 대한 추가 학습 및 구조/원리 이해 필요
    - 채팅방 view에 필요 정보를 전달할 때 일반적인 model.addAttribute() 방식 사용 불가한 이유?
    - 예약내역을 채팅방으로 사용하고 있는데 채팅방을 따로 생성하는 과정이 필요한지?
    - 전송된 메시지를 어떻게 해야 파일 형태로 저장하고 불러올 수 있을지
    - 전송한 메시지가 화면에 출력되지 않는 문제 아직 해결 x

# 23일차(2024-04-23)
- 호스트 채팅 기능
  - 예약 내역을 기준으로 채팅리스트 뷰 페이지 구현
  - 채팅 기능을 Nodejs WebSocket으로 변경
    - 이후 추가될 기능들을 고려하면 STOMP를 적용한 SpringBoot WebSocket보다 Nodejs의 socket.io 프레임워크가 더 설계하기 편하다는 팀장님의 의견 수용
  - NodeJS 웹소켓 서버 생성 (Port:3000)
  - 웹소켓 서버는 클라이언트로부터 예약번호를 받아 해당 예약번호로 매핑된 채팅방ID가 없으면 채팅방을 생성, 있으면 기존 채팅방에 연결하고 메시지를 보낼 때 io.to(채팅방ID).emit으로 전송.  
  (메시지 전송 시 객체에 메시지 내용, 예약번호를 담아 전송 + 추후 유저명도 추가할 예정)
  
- 문제
  - 두 사용자가 접속 후 나중에 들어온 사람이 메시지를 보내도 화면에 출력되지 않는 문제, 먼저 들어온 사용자가 메시지를 보내면 이후 정상적으로 출력된다.
  해결 못함. socket.join()이 메시지를 보내는 이벤트에서 실행되기 때문인데, 그럼 예약번호를 어떻게 받아와야 하나?

  - 기존 채팅 내역을 저장하기 위해 ObjectStorage에 저장해야 함.
  - JSON 형식 데이터를 다루는 것이 어색함.

# 24일차(2024-04-24)
- 호스트 채팅 기능
  - nodejs와 spring boot 서버 간 url 경로 연결
  - nodejs socket.io 구조 다시 파악 후, 설계
    - 메시지는 객체형태로 전송(전송자이름, 내용, 시간)
    - 웹소켓에 접속 후 메시지를 전송하면 서버에서 객체 배열에 저장한 후 클라이언트에게 전송하도록 구현함
    - 클라이언트가 접속을 종료하면 object storage에 객체 배열을 파일로 변환하여 업로드하도록 만들 예정임.

- 문제
  - nodejs에서 선언된 변수가 어느 블록에서 어떤 생명주기를 갖는지 몰랐음  
    서버가 실행되는 동안 chat.js에 선언된 변수는 계속 유지, 블록 안에 있는 변수들은 함수 실행이 종료된 후에 제거됨  

    채팅방을 구분하는 식별자인 예약번호를 한번 저장해놓으면 새 메세지를 서버에서 수신하였을 때 재사용할 수 있다.

  - 사용자 정보는 접속 시 파라미터로 보내거나, 메시지를 보낼 때 같이 보낼 수 없는 구조이다. 사용자가 접속 시 입장 알림이 렌더링 되어야 하고, 파라미터로 보낼 시 url이 달라지기 때문이다.  

  SpringBoot에서 nodejs로 값을 보내기 위해 ajax를 활용함. ajax가 POST 요청을 보낸 컨트롤러에서 데이터를 Map 객체에 담고, RestTemplate을 사용해 nodejs 서버로 보낸 후 리턴하면 nodejs 서버 포트 경로로 redirect한다.  

  RestTemplate는 스프링 프레임워크에서 제공하는 클래스로 HTTP 통신을 간단하게 메서드 호출만으로 처리할 수 있도록 해준다.
  
  - 한 사용자가 접속을 종료하면 Object Storage에 객체 배열에 담긴 메시지 파일을 저장하고, 다시 들어왔을 때 그 파일을 읽어 기존 채팅 내역을 출력하는 방식일 경우에 발생할 수 있는 문제를 예를 들어보겠다.

  만약, 남아있는 사용자가 재접속 전까지 계속 메시지를 보내면 그 메시지 내용은  object Storage에 저장되지 않아 출력되지 않겠죠.. 더불어 서버가 종료되지 않는 한 메시지를 담은 객체 배열은 제거되지 않아 메모리 사용량이 점점 늘어날 것이어유

  현재 가능성이 있는 해결방법
  - 두 사용자가 모두 나갈 때 Object Storage에 저장하고 객체 배열을 초기화, 만약 객체 배열이 없다면 Object Storage에서 파일을 가져와 배열로 만든다!

  - 서버가 유지되는 동안에는 객체 배열에 담긴 메시지들도 제거되지 않고 계속 유지된다. 

# 25일차(2024-04-25)
- 호스트 채팅 기능
  - 구조 재변경
    - 객체 배열을 삭제하지 않고 메모리에서 계속 사용한다면 과부하가 걸릴 가능성이 매우 크다. 따라서 종료 시 배열은 삭제해주되 숙소 이용기간이 끝날 때까지 파일을 로컬에 보관하도록 하고, object storage에는 업로드만 한다. 
    추후에 쉘스크립트 배치를 사용하여 삭제 예약을 거는 로직도 구현해볼만 함.
  - object storage 업로드 구현
    - 사용가이드 예제 코드를 적절히 수정하여 적용함
      - Node.js 클래스를 정의하고 파일 업로드/삭제 함수를 작성
      - Chat.js 파일에서 인스턴스를 생성하여 사용
  - 파일 저장/변환, 경로 변환, 환경 변수(프로퍼티) 모듈 사용 (자세히 공부 X)
    - ex) fs, path, dotenv, bodyParser

- 문제
  - async, await 등 objectStorage에 사용된 문법을 몰라 읽는데 시간이 좀 걸림.
  - fs.readdir 사용 시 문제
    - 기존 파일을 읽어서 메시지 리스트에 저장했는데 값은 계속 하나밖에 안들어간다.  
    처음에는 읽어온 원시 텍스트 파일이 배열로 제대로 변환이 되지 않아 단일 객체여서 계속 덮어씌워지는 줄 알았으나 로그를 출력해보니 파일에 메시지를 push하는 것이 parse보다 더 먼저 실행이 되는 것을 확인했다. 찾아보니 fs.readdir() 함수는 비동기적으로 파일을 불러오기 때문에 push하고 파일을 저장하는 과정이 먼저 일어나서 발생한 문제이다..  
    따라서 파일이 존재하는지 여부를 동기적으로 확인하는 fs.existsSync() 함수로 수정해주었다.
- 예제 코드
```
socket.on('chat message', (data) => {
    console.log('수신한 메시지:', data);

    var messageList = [];

    var fileName = 'chat-'+ reservationNo +'.json';
    filePath = path.join(__dirname, 'tmp', fileName);

    fs.readdir('./tmp', (err, files) = > {
      // 디렉토리 내에 파일이 있는지 확인
      if (err) {
        console.error('Error reading directory:', err);
        return;
      }

      if (files.includes(fileName)) {
        let fileContent = fs.readFileSync(filePath, 'utf8');
        messageList = JSON.parse(fileContent);
      }

    });


    // 객체로 만들어 메시지 배열에 담기
    const currentTime = new Date().toISOString().replace(/T/, ' ').replace(/\..+/, '');
    const message = {writer: loginUser, message: data.message, time: currentTime}
    messageList.push(message);
    console.log(messageList);

     메시지 배열을 JSON으로 변환하여 파일 작성
    fs.writeFileSync(filePath, JSON.stringify(messageList));


    // 채팅방에 메시지 전송
    io.to(reservationNo).emit('chat message', loginUser + ": " + data.message);
  });
```
- 남은 것
  - 페이지 및 헤더에 알림 띄우는 기능...
  - 생각해보니 배열도 나눠야 함.. 여러명이 하나의 메시지 배열을 사용하고 있음
  - 기존 채팅 내역 파일에서 읽어서 출력하기

# 26일차(2024-04-26)
  - 호스트 채팅 수정
    - 커넥션 단계에서 필요 값 받아 Map객체에 보관함으로써 채팅방 구분
    - 팀장님이 준 코드 확인
  - 2차 pull request
    - 채팅을 완성하지 

# 28일차(2024-04-28)
  - 호스트 채팅 수정
    - 팀장님이 만든 코드를 적용은 했지만 문제 발견, 협의가 필요해 보류

  - 호스트 정산 수정
    - 이용한 주 삭제
    - 가격을 결제금액으로 대체
  
  - 호스트 예약관리 수정
    - 거절된 예약 추가
    - 현재 날짜를 기준으로 (남은 기간, 이용중, 이용 완료) 상태 추가

  - 호스트 숙소 등록 수정
    - 지도 API 적용
      - 지도 출력 및 검색은 됨, 단 리턴되는 result는 공식 문서를 더 읽어보고 값을 넘기는 방법을 고민해야 함..
    - 본인확인 API 적용
      - 본인확인은 숙소 등록 페이지 이동 시 제한하는 방식으로 바꾸기로 함.
- 문제 
  - 채팅 기능에서 기존 내 코드도 중복 클라이언트 문제가 발생하고 팀장님이 만든 코드도 유저별 아이디가 구분이 안되어 문제가 발생함. 예약번호, 유저 어떤 기준으로 채팅방을 만들어야 할지 고민


- 4주차 회고
  - 채팅 기능, 지도 api 등 어려운 기능들을 구현하려고 보니 조건이 너무 많아 까다롭다. 조건을 해결할 수 있는 기능을 다 알아도 어떻게 배치하고 언제 사용하는지에 따라 다양한 경우의 수가 발생하고 만들다 보면 미처 생각하지 못한 조건이 발생하기도 한다. 블로그, chat GPT의 코드는 정확하지 않을 뿐더러 찾기도 힘들다 이에 대처방법은 공식문서의 설명과 샘플 예제를 꼼꼼히 읽는 방법 뿐인 것 같다.

# 29일차(2024-04-29)
- 호스트 숙소 등록 수정
  - 구글 지도와 지오코딩 api를 적용하여 화면에 출력하는 기능 구현
  - 구글 지도 화면 안에 검색, 검색초기화, 선택 버튼을 추가로 구현
  - 검색또는 위치 핀 선택 후 선택 버튼을 누를 시 위도, 경도, 주소 값이 input에 삽입되는 기능
  - 지역의 경우 컨트롤러에서 전체 지역리스트를 가져와 입력받은 주소가 지역이름을 contain할 경우 해당 Region이 RentalHome 객체에 set 되도록 함.
  - rentalHomeConfirm에서는 지도를 이전에 저장한 lat, lon 값에 마킹만 하도록 하여 사용자가 변경 불가능하게 구현.
  - mapper의 insert문도 임의값 삭제하고 객체 값으로 변경

- 호스트 숙소 리스트 수정
  - select로 되어 있던 상태 컬럼을 일반 텍스트 컬럼으로 변경

- 호스트 숙소 관리 수정
  - 숙소 상태 관리 기능 구현, (기존에 form은 만들어놓았지만 컨트롤러~dao 업데이트는 구현하지 않았음)
  - 지도 추가
    - 페이지 로딩할 때 기존 주소, 마커 표시되도록 구현
    - Address는 구분자로 "." 사용


# 30일차(2024-04-30)
- 호스트 숙소 관리 수정
  - 기존 위도, 경도 값도 받아서 hidden 값으로 저장하고 변경 시 넘겨줌
  - 업데이트 기능에 설정한 임시 값 정식 입력 값으로 변경
  - 숙소 등록 폼도 같이 변경한 내용: 기본 주소 선택 버튼을 누르면 상세 주소 input.value도 같이 초기화되도록 구현

- 헤더에 호스트 페이지로 이동하는 링크 추가
  - 조건1: 로그인 중이 아니면 나타나지 않음
  - 조건2: 숙소를 보유하지 않았으면 등록 시작 페이지, 있으면 예약관리 페이지로 이동
  - 조건3: 숙소 등록 시작을 누를 때 본인인증이 안된 아이디는 alert를 띄우고 마이페이지로 이동

- 호스트 헤더 돌아가기 버튼 추가

- 호스트 숙소 리스트 수정
  - 숙소 리스트 부모에 이벤트 걸어서 한 줄당 클릭하는 기능 구현
  - 숙소 대표사진 추가
  - 

- 숙소 등록 수정
  - input 필드가 빈 상태일 경우 다음 버튼이 비활성화되도록 구현
  - 이전 버튼 추가

- 문제
  - 구글 지도 api geocode의 결과인 results의 위도 경도를 selectedLocation 변수에 저장이 안됨.  
  => 구글 반환하는 위도 경도가 담긴 객체는 위도와 경도를 함수로 호출하도록 되어있는데 이를 파악하지 못함. 즉 저장이 안된 것이 아니라 함수기 때문에 리터럴 값을 가져오려면 ()가 붙었어야 함.

# 31일차(2024-05-01)
- 호스트 숙소 등록 수정
  - 숙소 사진도 required가 적용되도록 수정
    - filesArray의 length를 기준으로 판단, 삭제, 추가될 때도 체크함수가 실행되도록 수정
  - 숙소 시설 페이지도 이전 버튼 생성, required 동일하게 적용
- 채팅 기능 
  - css: 입력한 메세지에 이름, 내용이 박스로 묶이고 사용자에 따라 색, 위치를 변하도록 style 설정(sender로 구분)
  - ???

- 문제
  - 기본 시설의 경우 input type number이면서 thymeleaf의 each문으로 반복생성된 태그여서 각각 값을 가져올 수 없고, querySelectorAll로 가져오면 NodeList여서 some 함수를 사용할 수가 없다.
  
  따라서 NodeList를 변환해주는 Array.prototype.slice.call() 함수 사용, 
  
  사용하고 보니 앞 페이지에도 적용이 가능할 것 같음. 시간 날때 리팩토링

  - 채팅 내역을 출력할 때 메세지 박스가 텍스트 길이에 따라 크기가 자유롭게 늘어나고 block을 유지하고 싶은데 float, max-width로 해결이 안됨.
    아직 해결 x

# 32일차(2024-05-02)
- 채팅 리스트 수정
  - 상대방 프로필 사진 추가+css(동그랗게)
    - reservationList에 회원번호를 가지고 있으므로 스프링부트 서버로부터 필터링된 reservationList와 함께 같은 순서로 담긴 photo 리스트를 모델에 담아주고 count++ 하며 object storage 주소에 넣어줌

- 채팅방 수정
  - 31일차에 발생한 문제 해결(일반적인 메시지 출력 형태가 안되는 문제)
    - display: flex의 flex-direction을 column으로 설정하여 해결
  - 현재 시간을 오후 3:00 형식으로 변환하여 보내고 메시지박스 바깥 하단에 출력
    - position absolute를 사용하여 위치를 -로 조정하여 출력
    - 이름도 동일하게 처리해줌
  - 시간 포맷팅 함수를 서버쪽(chat.js)로 이동하여 메시지를 받고난 후에 변환함
    - 날짜 업데이트를 위해서 내린 결정, 메시지를 받았을 때 날짜를 확인하고 변경되었으면 출력 후 그 날짜를 변환하는 방식
  - 날짜 업데이트 함수 구현
    - 연/월/일만 추출해서 하나의 문자열로 합친 후 이전에 저장된 날짜문자열과 비교해서 다를 경우에 화면에 출력하는 방식

# 33일차(2024-05-03) 
- 채팅방 수정
  - 날짜가 업데이트되면 출력하는 방식을 백에서 처리하려고 했으나 한 요청에 메세지를 따로 보내는 것이 불가능하고 원본 날짜 데이터(ISO 형식)은 훼손하지 않고 그대로 저장하는 것이 바람직하다고 조언을 들음.

  따라서 넘어오는 메시지를 그대로 저장하고 날짜 포맷 및 출력을 다시 프론트로 옮김.
  출력 로직은 그대로 유지하는 대신, 업데이트 함수에 리턴문을 추가하여 새 변수에 날짜를 받고 기존 날짜와 비교함

  - 메시지 입력 박스
    - 하단 fix
    - 기본 크기 조정
  - 전송 버튼 스타일 적용
    - 메시지 입력 박스 안쪽. absolute, messageContainer를 relative로 설정
    - BootStrap 아이콘으로 변경
  - 나가기 버튼 스타일 적용
    - 메시지 컨테이너 왼쪽 위 상단에 딱 맞게. absolute, mainContainer를 relative로 설정

- 호스트 헤더 수정
  - 메인 헤더 양식 참고하여 동일하게 변경

- 호스트 숙소 관리 리스트 수정
  - 기존 테이블이었던 것들 모두 div로 수정
  - display: flex를 이용하여 row의 너비를 유연하게 배치
  - 

- 문제 
  - 채팅방의 채팅창 크기가 동적으로 바뀌도록 하고 스크롤을 못내리게 화면크기에 맞추고 싶은데 모르겠음 


# 34일차(2024-05-04)
- 호스트 예약관리 css
  - table 모두 div 태그로 변경, border는 container 단위만 묶고 left 정렬

- 호스트 숙소 관리 css
  - 새 숙소 등록 추가
  - 상태가 등록 심사중인 숙소는 숙소 관리 입장 제한
  
# 35일차(2024-05-05)
- 채팅 리스트 css
  - 카드형태로 바꾸고 flex-direction: column으로 배치함
  - hover시 살짝 회전하고 색을 변화시키는 효과 추가
    - filter: hue-rotate(90deg);  
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2); 
- 숙소 관리 리스트 css
  - 제목 row 패딩 추가
- 호스트 정산 css
  - 모달 창을 띄웠을 때 보이는 결제 내역들 css 적용
  - Intl.NumberFormat를 사용하여 한국 통화 포맷을 적용, ex) 10,000
- 숙소 등록 시작 페이지 css
  - 동적으로 안내문구 출력하고 blink하는 효과 추가
    - setInterval(함수, mil) 사용하여 text를 삽입하는 방식
    - blink는 @keyframes를 사용, 투명도를 조절하여 깜빡이는 방식임
  - flex 다시 적용
    - 이전에는 body 안에 flex를 적용해서 화면 비율이 안맞았음
    - html에 flex를 적용해서 left-background와 right-background로 구분
    - left/right container에 background 안에 요소들 배치
    - right-container의 경우 step들을 수직으로 3개로 분할해야 하므로 또 flex를 적용
    - step 안에서도 text와 image를 나누어야 하기 때문에 또 flex 적용하여 수평으로 분할











# 36일차(2024-05-06)
- 숙소 등록 css
  - 숙소 기본 정보 페이지
    - 전체 항목 main-container로 묶음
    - 각 항목별로 info class로 묶음
    - 이미지 설명도 필수 입력으로 설정
    - 이미지 삭제 버튼, 이미지 설명란 배치 조정
    - 필수 입력 제한
      - 필수 input 필드는 각각의 값을 Id로 가져와 배열에 담고 some 함수로 필드가 비어있는지 확인
      - 이미지의 경우 fileArray의 길이가 5 이하인 경우 true
      - 이미지 설명은 fileArray에 some 함수를 걸어 file 객체의 description 필드의 값이 없는 경우 true
      - 입력 필드가 변경될 때마다 확인해야 하므로 'change' 인 경우 필드 입력 확인 함수가 실행되도록 함. 

  - 숙소 테마 css
    - 숙소 테마에 icon 삽입
    - radio, checkbox 버튼 삭제
    - 숙소 테마 클릭 시 선택 클래스를 토글하여 테두리색이 변경되고 checked 조건도 같이 변경되도록 구현
      - event를 추가, 클릭시 class에 seleted를 추가하고 selected인 경우 배경색이 바뀌는 원리
      - radio는 다른 div 클릭 시 기존 checked 옵션을 해제하고 하나만 checked된다.
    - 필수 입력값 제한
      - radio는 하나만 check이기 때문에 querySelector의 radio 타입이 check 인것만 체크
      - checkbox는 checkbox의 length가 0인 경우를 기준으로 체크
      - 입력 필드가 변경될 때마다 확인해야 하므로 'change' 인 경우 필드 입력 확인 함수가 실행되도록 함

  - 숙소 시설 css
    - 60개의 시설아이콘 이미지 storage에 upload
    - 기본 시설의 개수 입력 폼
      - "+"와 "-" 버튼을 입력 박스 양 옆에 배치하여 클릭 시 input의 value가 1씩 증감하는 기능
      - 버튼은 부트스트랩 아이콘 사용
    - 테마와 동일하게 div 클릭 이벤트 발생 시 토글, checked 변경
    - 필수 입력 제한
      - 시설 갯수는 some 함수에서 조건문을 줄 때 Number로 형변환하여 비교
      - 나머지는 테마와 동일

- 문제
  - 사진 설명은 필드 입력 확인 함수가 실행되지 않음.
  해결 => 새로 추가된 이미지설명 input은 로딩 시 리스너가 지정되지 않으므로 photoCountAndDisplay() 함수에서 이벤트 설명 태그에 따로 리스너를 지정해줌.

# 37일차(2024-05-07)
- 숙소 등록 페이지
  - 최종 확인 페이지
    - 중앙 배치 및 사이즈 조정
    - 정보 출력 형식을 모두 p로 함
    - display: flex를 사용해 필요에 따라 데이터를 row, column 기준으로 배치

- 숙소 관리 상세 및 수정 페이지
  - 중앙 배치 및 사이즈 조정
  - 이미지 규격 조정, display: flex로 변경
    - photoSection이 추가됨에 따라 새로 추가하는 이미지 콘테이너를 photoSection에 자식태그로 추가
  - 타입, 테마, 시설은 모두 등록폼과 동일한 형태로 변경(css,js)

- 문제
  - 기존 수정페이지에서의 이미지는 삭제했을 때 아예 DB, Storage에서 삭제해버리고 redirect를 한다. 

  이러한 구조는 사용자가 삭제 버튼을 누른 후 삭제를 되돌릴 수 없다는 문제와, 필수 입력 제한을 걸지 못한다는 심각한 구조적 문제를 가진다.

  해결
  첫번째로 생각해낸 방법은 페이지를 로딩할 때 fileArray에 기존 이미지와 이미지설명을 합친 객체를 fileArray에 초기화시키는 방법이다. 
  
  html image-item 태그에 사용자 정의 속성으로 이미지이름과, 이미지설명을 담고 자바스크립트에서 DOM API로 가져와 담았다. 
  초기 fileArray는 input으로 가져온 파일 객체와, 이미지 객체를 객체로 담았는데 문자열을 가져오니 초기화하고 필수 입력 제한 함수에 조건을 줄 수 없는 에러가 발생했다. hidden input을 만드려고 해도 파일을 input에 넣는 것이 불가능했다.

  그래서 두번째 방법으로 filesArray와 기존 이미지를 따로 관리하는 방향을 고려했다. 같은 image-container로 관리하되 업로드된 이미지를 구별하기 위해 class에 uploadedImage 옵션을 추가했다. 

  필수 입력 제한을 위한 조건은 image-container들을 DOM API로 가져와 길이를 비교하였고 filesArray는 기존 insert 그대로 사용, upload된 이미지는 이미지 이름만 따로 formData에 담아 파라미터로 전달하였다. 전달된 파라미터는 controller에서 기존 이미지 이름과 비교하여 없는 경우 DB와 Storage에서 제거하도록 구현하였다.


  

# 38일차(2024-05-08)
- 폰트 적용(숙소 등록, 숙소 상세/수정 페이지 제외)
- 정산 페이지
  - 모달창 띄울 때 나타나는 수수료, 정산금액 소수점 제거
    - Math.round() 사용
- 최종 발표 전 pull request

- 디버깅
  - 예약 상태 모두 char 형으로 변경
  - 숙소 등록 시 호스트 개인의 member 번호를 따로 파라미터로 넣어서 DB에 Insert
    - 파라미터를 두개를 주기 때문에 @Params 사용
  - 숙소 수정 시 시설의 input의 값, checkbox의 값을 따로 분리하여 formData에 추가하는 방식으로 변경

- 문제
  - 업데이트 시 capacity를 제외한 나머지 기본 시설 개수가 저장되지 않는다.
  
  문제를 찾아보니 formData에 데이터를 추가할 때 기본 시설 개수는 input type=number이므로 check 조건에 해당하지 않아 제외된 것으로 확인됨. 기본 시설 개수의 경우 0도 가능하기 때문에 필수 입력 제한을 두지 않지만 수정할 때 현재 시설, 테마 쪽 수정은 기존 데이터를 모두 삭제하고 다시 추가하는 방식이므로 기존 값을 유지하려면 수정할 때 다시 값을 담아 보내주어야 한다. 

  해결
  기본 시설 개수 클래스에 input을 추가하여 input으로 개수를 받는 시설들을 따로 select하여 같은 키의 formData에 추가해주었다. 

  - 숙소 등록 시 회원번호를 따로 파라미터로 넘길 때 parameterType을 사용할 수 없어서 useGenerateKey 사용 시 keyProperty를 찾지 못하는 에러가 발생
  
  해결 
  @Param으로 넘겨준 객체의 회원번호를 keyProperty로 지정해주어서 해결


# 39일차(2024-05-09)
- 폰트 적용(숙소 등록, 숙소 상세/수정 페이지)
- 숙소 등록 css 변경
  - main-container, 텍스트가 아닌 요소들에 대해 테두리 그림자 적용하는 방식으로 통일
  - 텍스트, 요소 배치 방법 수정


이어서
h4 스타일 모두 적용

# 40일차(2024-05-10)
- 숙소 등록 수정
  - 전체적으로 css 수정
    - 텍스트 아닌 요소들 모두 그림자 적용
  - 카메라 기본 아이콘이 포함된 기본 컨테이너
    - 이미지가 추가되면 사라지고 flex-start로 바뀌고, 이미지가 모두 삭제되어 없어지면 다시 기본 아이콘이 다시 보여지는 방식

# 41일차(2024-05-11)
- 숙소 등록/숙소 수정 페이지 수정
  - 숙소 등록/수정 시 숙소사진이 없을 때 기본 아이콘이(Camera.png) 나타나도록 적용, 동적으로
  - 숙소 사진의 배치, 및 컨테이너의 css 수정
- 숙소 등록(테마폼)에서 radio 선택 시 필수 입력 필드 확인 함수를 호출하는 문장이 빠져있어서 수정
- 문제?

# 42일차 ~ 46일차(2024-05-12 ~ 2024-05-16)
- 발표 자료 PPT 제작
  - 시작 화면, 애니메이션 적용
  - 목차 내용 구성/제작
  - 시스템 아키텍처 및 주요 기술 페이지 제작
    - CI-CD
    - 프로젝트 아키텍처
    - 소프트웨어 아키텍처: 메인
    - 소프트웨어 아키텍처: 관리자

# 47일차(2024-05-17)
- PPT 피드백
- gradle 설정오류 해결
- 호스트모드 헤더 재적용
  - 새 header.js를 기반으로 hostHeader.js 구현하여 적용


# 48일차(2024-05-18)
- 전체 페이지 
  - BootStrap container-sm 적용
  - 배치 및 간격 조정
- 호스트 채팅
  - 채팅방 목록 제목 추가
  - 채팅방이 없을 때 안내문구 추가
  - 채팅방 입장 시 상대방 이름이 상단에 출력되도록 데이터 전달
- 테마, 시설 아이콘 테두리 굵게 조정

# 49일차(2024-05-19)
- 예약 승인/거절, 숙소 등록, 숙소 수정 SweetAlert2 적용
- 전체 페이지
  - css, js 분리

# 50일차(2024-05-20)
- 숙소 등록, 숙소 수정 페이지 
  - Daterangepicker 적용

- 시연 데이터 등록

- 문제
  - Daterangepicker를 적용하기 위해 hosting 날짜 input type을 text를 바꿈으로서 바인딩이 제대로 되지 않는 문제, sql타입으로 포맷 변환을 해줌
  - rentalHomeFacilityAdd할 때 facilityName과 facilityNo가 모두 넘어가는 문제 수정


